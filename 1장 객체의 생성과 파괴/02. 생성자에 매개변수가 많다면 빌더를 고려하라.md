## 필드 멤버가 여러 개인 객체
- 식품 포장의 영양 정보를 예시로 생각해보자.


  - 영양 정보에는 1회 제공량, 총 n회 제공량, 1회 제공량당 칼로리와 같은 필수 정보가 포함되어있다.
  - 이에 더해, 지방, 트랜스지방, 포화지방, 나트륨 등의 20개가 넘는 선택 정보가 포함되어있다.
- 그럼 식품 객체를 만들 때 이 많은 변수들을 어떻게 전달해야할까?
---
## 고전적 방법 1 - 점층적 생성자 패턴 (Telescoping Constructor Patter)
```cs
public class NutritionFacts{
    private final int servingSize;  // (ml, 1회 제공량) = 필수
    private final int servings;     // (ml, 1회 제공량) = 필수
    private final int calories;     // (ml, 1회 제공량) = 선택
    private final int fat;          // (ml, 1회 제공량) = 선택
    private final int sodium;       // (ml, 1회 제공량) = 선택
    private final int carbohydrate; // (ml, 1회 제공량) = 선택
    
    public NutritionFacts(int servingSize, int servings){
        this(servingSize, servings, 0);
    }

    public NutritionFacts(int servingSize, int servings, int calories) {
        this(servingSize, servings, calories, 0);
    }

    public NutritionFacts(int servingSize, int servings, int calories, int fat) {
        this(servingSize, servings, calories, fat, 0);
    }

    public NutritionFacts(int servingSize, int servings, int calories, int fat, int sodium) {
        this(servingSize, servings, calories, fat, sodium, 0);
    }

    public NutritionFacts(int servingSize, int servings, int calories, int fat, int sodium, int carbohydrate) {
        this.servingSize = servingSize;
        this.servings = servings;
        this.calories = calories;
        this.fat = fat;
        this.sodium = sodium;
        this.carbohydrate = carbohydrate;
    }
}
```
- 필수 매개변수를 받는 생성자를 시작으로, 선택 매개변수를 하나씩 늘려가며 점층적으로 생성자를 만든다.
- 해당 클래스의 인스턴스를 만들고 싶으면 원하는 매개변수를 모두 포함한 생성자 중 가장 짧은 것을 골라 호출하면 된다.
- 그런데, 이런 방식에는 내가 원하지 않는 변수도 입력해줘야하는 번거로움이 있다. 예를 들어, 탄수화물은 있지만, 지방은 없는 제로 콜라 객체를 만들고 싶으면 다음과 같이 생성자를 이용해야 한다.

`NutritionFacts zeroCola = new NutritionFacts(240, 8, 100, 0, 35, 37);`
- 그렇다고 탄수화물을 세 번쨰 인자로 옮길 수도 없다.
- 담긴 숫자의 의미를 파악하기 어렵다는 단점도 있다.
- 즉, 점층적 생성장 패턴도 쓸 수는 있지만, 매개변수가 많아지면 클라이언트 코드를 작성하거나 읽기 어려워진다.

---
## 고전적 방법 2 - 자바 빈즈 패턴 (JavaBeans Pattern)
```cs
public class NutritionFacts{
    // 매개변수들은 기본 값이 있다면 기본값으로 초기화된다.
    private int servingSize=-1;  // (ml, 1회 제공량) = 필수
    private int servings=-1;     // (회, 총 n회 제공량) = 필수
    private int calories=0;     // (1회 제공량당) = 선택
    private int fat=0;          // (g, 1회 제공량당) = 선택
    private int sodium=0;       // (mg, 1회 제공량당) = 선택
    private int carbohydrate=0; // (g, 1회 제공량당) = 선택

    public NutritionFacts(){
    }
    
    public void setServingSize(int servingSize){
        this.servingSize = servingSize;
    }

    public void setServings(int servings) {
        this.servings = servings;
    }

    public void setCalories(int calories) {
        this.calories = calories;
    }

    public void setFat(int fat) {
        this.fat = fat;
    }

    public void setSodium(int sodium) {
        this.sodium = sodium;
    }

    public void setCarbohydrate(int carbohydrate) {
        this.carbohydrate = carbohydrate;
    }
}
```
- 기본 생성자로 클래스 인스턴스를 생성하고, 필요한 값이 있다면 setter를 통해 설정한다.
```
NutritionFacts zeroCola = new NutritionFacts();
zeroCola.setServingSize(240);
zeroCola.setServings(8);
zeroCola.setCalories(100);
zeroCola.setSodium(25);
zeroCola.setCarbohydrate(27);
```
- 이 방법은 점층적 생성자 패턴이 지닌 단점을 해결할 수 있다. 인스턴스의 생성이 더 쉬워졌고, 코드를 읽기도 쉽다.
- 그러나 객체 하나를 만들기 위해 여러 메서드를 호출해야하고, 객체가 완성되기 전까지는 일부 값은 비어있는 상태 즉, 객체의 일관성이 무너진 상태에 놓인다.
- 일관성의 문제 때문에 자바빈즈 패턴에서는 클래스를 불변으로 만들 수 없으며(final 변수의 사용 불가), 쓰레드 안정성을 위해 추가적인 작업이 필요하다.
---
## 해결 방법 - 빌더 패턴 (Builder Pattern)
